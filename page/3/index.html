<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"user-q123.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="My blog">
<meta property="og:url" content="https://user-q123.github.io/page/3/index.html">
<meta property="og:site_name" content="My blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Petro">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://user-q123.github.io/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>My blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">My blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Viva la vida</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Petro</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">70</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/" class="post-title-link" itemprop="url">202306-给查看python第三方包代码错误debug</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-30 15:18:27" itemprop="dateCreated datePublished" datetime="2023-06-30T15:18:27+08:00">2023-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-31 15:06:23" itemprop="dateModified" datetime="2023-10-31T15:06:23+08:00">2023-10-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这个代码是用来查看本地安装的包的, 但是运行会发生错误</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pip<span class="token punctuation">.</span>_internal<span class="token punctuation">.</span>commands<span class="token punctuation">.</span>show <span class="token keyword">import</span> search_packages_info
<span class="token keyword">import</span> subprocess
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> json
<span class="token keyword">import</span> pathlib
<span class="token keyword">import</span> math
<span class="token keyword">import</span> operator

TMPL <span class="token operator">=</span> <span class="token string">'&#123;:&lt;30&#125; &#123;:&lt;30&#125; &#123;:&lt;10&#125; &#123;:>9&#125;'</span>

<span class="token comment"># 把单位为位转换成K,M这样的</span>
<span class="token keyword">def</span> <span class="token function">humanize</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Convert size in bytes to human readable output."""</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        units <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'KB'</span><span class="token punctuation">,</span> <span class="token string">'MB'</span><span class="token punctuation">,</span> <span class="token string">'GB'</span><span class="token punctuation">]</span>
        i <span class="token operator">=</span> math<span class="token punctuation">.</span>floor<span class="token punctuation">(</span>math<span class="token punctuation">.</span>log<span class="token punctuation">(</span>size<span class="token punctuation">)</span> <span class="token operator">/</span> math<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        hsize <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token builtin">round</span><span class="token punctuation">(</span>size <span class="token operator">/</span> <span class="token number">1024</span><span class="token operator">**</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></span><span class="token interpolation"><span class="token punctuation">&#123;</span>units<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">&#125;</span></span><span class="token string">"</span></span>
    <span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
        hsize <span class="token operator">=</span> <span class="token string">'0B'</span>
    <span class="token keyword">return</span> hsize


<span class="token keyword">def</span> <span class="token function">pip_list_ext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""List installed packages with additional information."""</span>
    <span class="token comment"># python -m pip list --format --json --verbose</span>
    pip_list <span class="token operator">=</span> subprocess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">[</span>sys<span class="token punctuation">.</span>executable<span class="token punctuation">,</span> <span class="token string">'-m'</span><span class="token punctuation">,</span> <span class="token string">'pip'</span><span class="token punctuation">,</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
                               <span class="token string">'--format'</span><span class="token punctuation">,</span> <span class="token string">'json'</span><span class="token punctuation">,</span> <span class="token string">'--verbose'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                              capture_output<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> pip_list<span class="token punctuation">.</span>returncode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> RuntimeError<span class="token punctuation">(</span><span class="token string">'...'</span><span class="token punctuation">)</span>

    query <span class="token operator">=</span> <span class="token punctuation">[</span>pkg<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token keyword">for</span> pkg <span class="token keyword">in</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>pip_list<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span><span class="token punctuation">]</span>
    
    packages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> pkg <span class="token keyword">in</span> search_packages_info<span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">:</span>
        location <span class="token operator">=</span> pathlib<span class="token punctuation">.</span>Path<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'location'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        pkg<span class="token punctuation">[</span><span class="token string">'installer'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pkg<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'installer'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
        pkg<span class="token punctuation">[</span><span class="token string">'files'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pkg<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'files'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        size <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">(</span>location <span class="token operator">/</span> f<span class="token punctuation">)</span><span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>st_size
                       <span class="token keyword">for</span> f <span class="token keyword">in</span> pkg<span class="token punctuation">[</span><span class="token string">'files'</span><span class="token punctuation">]</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>location <span class="token operator">/</span> f<span class="token punctuation">)</span><span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        pkg<span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span> <span class="token operator">=</span> size
        packages<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pkg<span class="token punctuation">)</span>

    <span class="token keyword">return</span> packages

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    packages <span class="token operator">=</span> pip_list_ext<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>TMPL<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'Package'</span><span class="token punctuation">,</span> <span class="token string">'Version'</span><span class="token punctuation">,</span> <span class="token string">'Installer'</span><span class="token punctuation">,</span> <span class="token string">'Size'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>TMPL<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token operator">*</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> pkg <span class="token keyword">in</span> packages<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>TMPL<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pkg<span class="token punctuation">[</span><span class="token string">'version'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                          pkg<span class="token punctuation">[</span><span class="token string">'installer'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> humanize<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># TOP 10</span>
    N <span class="token operator">=</span> <span class="token number">10</span>
    pkgs <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>packages<span class="token punctuation">,</span> key<span class="token operator">=</span>operator<span class="token punctuation">.</span>itemgetter<span class="token punctuation">(</span><span class="token string">'size'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"\nTOP </span><span class="token interpolation"><span class="token punctuation">&#123;</span>N<span class="token punctuation">&#125;</span></span><span class="token string">:"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> pkg <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>pkgs<span class="token punctuation">[</span><span class="token punctuation">:</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>i<span class="token punctuation">:</span><span class="token format-spec">>2</span><span class="token punctuation">&#125;</span></span><span class="token string">. </span><span class="token interpolation"><span class="token punctuation">&#123;</span>pkg<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token punctuation">&#123;</span>humanize<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></span><span class="token string">)"</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>运行会报这个错:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:
  File <span class="token string">"c:\Users\petro\Desktop<span class="token entity" title="\t">\t</span>est\python\show-pip-package-size\main.py"</span>, line <span class="token number">47</span>, <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    packages <span class="token operator">=</span> pip_list_ext<span class="token punctuation">(</span><span class="token punctuation">)</span>
  File <span class="token string">"c:\Users\petro\Desktop<span class="token entity" title="\t">\t</span>est\python\show-pip-package-size\main.py"</span>, line <span class="token number">36</span>, <span class="token keyword">in</span> pip_list_ext
    location <span class="token operator">=</span> pathlib.Path<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'location'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
TypeError: tuple indices must be integers or slices, not str<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里应该是这句话错了</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> pkg <span class="token keyword">in</span> search_packages_info<span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">:</span>
    location <span class="token operator">=</span> pathlib<span class="token punctuation">.</span>Path<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'location'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>从这里可以看出来, 这个query对象是一个存了各种包名的list<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/001.png" alt="pages"><br>再看一下这里, 这个返回值是个生成器对象.<br>什么是生成器对象: </p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/9185ccbe9cd7">https://www.jianshu.com/p/9185ccbe9cd7</a><br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/002.png" alt="pages"></p>
</blockquote>
<p>生成器对象不大好看里面有什么东西<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/003.png" alt="pages"><br>转成list对象发现, 里面的内容果然很多</p>
<p>查看一项具体里面有什么<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/004.png" alt="pages"><br>发现了错误</p>
<p>看了一下这个<code>_PackageInfo</code>对象, 也没有get方法, 查看<code>__dict__</code>属性也报错<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/005.png" alt="pages"><br>用<code>dir()</code>查看后, 各个参数也没有给到获取的方法, 而下面的代码中可以发现, 它是以列表的形式来处理的, 所以转换成字典</p>
<p>//TODO<br>结果转换还失败了<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/006.png" alt="pages"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/" class="post-title-link" itemprop="url">202306-git port 443 after 21064 ms Timed out</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-25 13:53:37" itemprop="dateCreated datePublished" datetime="2023-06-25T13:53:37+08:00">2023-06-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-07-19 11:37:24" itemprop="dateModified" datetime="2023-07-19T11:37:24+08:00">2023-07-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>我的电脑有时候使用<code>git pull origin</code>命令会发生网络问题<br><img src="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/001.png" alt="pages"><br>有的时候不会发生<br>打算彻底解决一下<br>这是我的clash的端口:<br><img src="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/002.png" alt="pages"></p>
<pre class="line-numbers language-git" data-language="git"><code class="language-git">git config --global http.proxy http://127.0.0.1:7890
git config --global http.proxy https://127.0.0.1:7890<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>设置完后发现了其他错误, 说明配置的不正确<br><img src="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/003.png" alt="pages"><br>先复原</p>
<pre class="line-numbers language-git" data-language="git"><code class="language-git">git config --global --unset http.proxy
git config --global --unset https.proxy
git config --global http.sslBackend <span class="token string">"openssl"</span>
git config --global http.sslVerify false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>此时我pull突然就可以了:<br><img src="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/004.png" alt="pages"></p>
<p>如果要用梯子的话, 参考这个帖子:</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xingxincsdn/article/details/125320830">https://blog.csdn.net/xingxincsdn/article/details/125320830</a></p>
</blockquote>
<pre class="line-numbers language-git" data-language="git"><code class="language-git">git config --global -e

[http]
        proxy = socks5://127.0.0.1:7890
[https]
        proxy = socks5://127.0.0.1:7890<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="post-title-link" itemprop="url">202306白嫖aws服务器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-07 16:23:48" itemprop="dateCreated datePublished" datetime="2023-06-07T16:23:48+08:00">2023-06-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-07-19 11:37:24" itemprop="dateModified" datetime="2023-07-19T11:37:24+08:00">2023-07-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>首先, 我注册了一个邮箱用于申请新的aws账号,</p>
<pre class="line-numbers language-none"><code class="language-none">server-baipiao01@outlook.com
Qq@111222333

aws login pwd:Qq@111222333<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/001.png" alt="pages"><br><del>在提交信用卡那个步骤, 直接用假的信用卡号就可以, 我本来还想用招行的无界卡之类的, 发现没有这个必要</del><br>我使用了一张过期的卡, 到22年就到期的苏州银行的卡号, 估计这里的关键是仅仅是银联但不是visa, 到期日随便写了26年就可以了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/002.png" alt="pages"><br>可以看到能到下一步<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/003.png" alt="pages"><br>用这种信用卡的话, 会报错, 但是还是可以登录的,  选择用root用户/根用户登录, 之后就好了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/004.png" alt="pages"><br>登录后, 搜索<code>EC2</code>并且收藏<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/005.png" alt="pages"><br>如果使用假的卡,会导致支付方式不通过<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/006.png" alt="pages"><br>使用银联的卡, 在payment preference这边就是正确的<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/007.png" alt="pages"><br>进入到下方的EC2界面, 能出现这个界面说明应该是成功了. 新账号的审核需要一点时间, 我一开始的时候也是说账号需要认证, 它说可能需要做一笔1美元的测试交易之类, 我以为是不是因为账号的信用卡无效的, 所以导致的这个问题, 但是发现睡了一觉可以了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/008.png" alt="pages"></p>
<p>启动新的实例<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/009.png" alt="pages"><br>创建实例的时候一点要是支持免费套餐的<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/010.png" alt="pages"><br>创建密钥对<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/011.png" alt="pages"><br>自动下载密钥对, 防火墙策略选择现有的<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/012.png" alt="pages"><br>启动<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/013.png" alt="pages"><br>结果又失败了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/014.png" alt="pages"><br>我写了一个邮件, 说明了一下失败的情况和截图, 后来它发了一个邮件给我说明已经可以用了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/015.png" alt="pages"><br>创建成功<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/016.png" alt="pages"><br>在这里增加一个账单提醒(比如公司邮箱,方便天天看得见)<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/017.png" alt="pages"><br>接下来去安全组中添加端口<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/018.png" alt="pages"><br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/019.png" alt="pages"><br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/020.png" alt="pages"><br>使用<code>MobaXterm</code>来进行SSH连接<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/021.png" alt="pages"><br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/022.png" alt="pages"><br>使用这个配置发现登录不上, 我怀疑是密钥对的问题, 因为我是把私钥文件从公司电脑上拖到自己电脑上的(公司电脑无法使用ssh), 怀疑是不是这个过程中编码有问题导致私钥不一样了.<br>然后我尝试在EC2 dashboard中替换密钥对, 发现基本上无法替换的, 即使你新增了新的密钥对也无法指定使用新的密钥对. (但是我又失手把老的密钥对删掉了). 就只能新建一个示例了.<br>在这个帖子中, 发现了其实是我的登录名错了, 不是<code>admin</code></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://becomethesolution.com/disconnected-no-supported-authentication-methods-available-aws-putty#:~:text=Disconnected%3A%20No%20supported%20authentication%20methods%20available%20%28server%20sent%3A,default%20login%2Fusernames%20when%20connecting%20to%20your%20AMI%20instance">https://becomethesolution.com/disconnected-no-supported-authentication-methods-available-aws-putty#:~:text=Disconnected%3A%20No%20supported%20authentication%20methods%20available%20%28server%20sent%3A,default%20login%2Fusernames%20when%20connecting%20to%20your%20AMI%20instance</a>.</p>
</blockquote>
<p>使用<code>root</code> 或者 <code>ubuntu</code> 来登录就可以了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/023.png" alt="pages"></p>
<p>大功告成了: 使用下面的命令看看配置</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token parameter variable">-i</span>
<span class="token function">wget</span> -qO- bench.sh <span class="token operator">|</span> <span class="token function">bash</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/024.png" alt="pages"><br>最后是如何查看流量<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/025.png" alt="pages"><br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/026.png" alt="pages"></p>
<p>找到的一个参考视频</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1sg4y1F78k">https://www.bilibili.com/video/BV1sg4y1F78k</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/" class="post-title-link" itemprop="url">202305找不到hexo命令等</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-30 19:02:26" itemprop="dateCreated datePublished" datetime="2023-05-30T19:02:26+08:00">2023-05-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-31 09:56:27" itemprop="dateModified" datetime="2023-05-31T09:56:27+08:00">2023-05-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>第一个问题: 在hexo目录中<code>hexo</code>命令识别不到, 但是在其他地方是可以的. 也就是说, global中是有的<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/001.png" alt="pages"></p>
<p>解决办法是在hexo项目中安装依赖</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>但是在安装的时候, 发现了这个错误:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> ERR<span class="token operator">!</span> code <span class="token number">128</span>
<span class="token function">npm</span> ERR<span class="token operator">!</span> An unknown <span class="token function">git</span> error occurred
<span class="token function">npm</span> ERR<span class="token operator">!</span> <span class="token builtin class-name">command</span> <span class="token function">git</span> --no-replace-objects ls-remote ssh://git@github.com/7ym0n/hexo-asset-image.git
<span class="token function">npm</span> ERR<span class="token operator">!</span> git@github.com: Permission denied <span class="token punctuation">(</span>publickey<span class="token punctuation">)</span>.
<span class="token function">npm</span> ERR<span class="token operator">!</span> fatal: Could not <span class="token builtin class-name">read</span> from remote repository.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/002.png" alt="pages"><br>有的帖子说, 是需要本地有ssh证书, 在<code>git bash</code>中使用</p>
<pre class="line-numbers language-none"><code class="language-none">ls ~&#x2F;.ssh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>可以看到我有ssh证书<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/003.png" alt="pages"></p>
<p>后来发现问题所在是这个<code>hexo-asset-image</code>的库很蛋疼. 需要单独安装</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-asset-image<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>先单独安装它<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/004.png" alt="pages"><br>再安装其他的库, 就没有问题了<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/005.png" alt="pages"></p>
<p>然后是无法使用<code>deploy</code>命令的错误:<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/006.png" alt="pages"><br>解决方法是把<code>.deploy</code>文件删了<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/007.png" alt="pages"><br>可以参考这个帖子:</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/NoMasp/article/details/79504699">https://blog.csdn.net/NoMasp/article/details/79504699</a><br>然后重新生成和上传就可以<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/008.png" alt="pages"></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">202305-babel与js装饰器学习</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-24 18:15:07" itemprop="dateCreated datePublished" datetime="2023-05-24T18:15:07+08:00">2023-05-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-27 20:40:03" itemprop="dateModified" datetime="2023-05-27T20:40:03+08:00">2023-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="关于babel配置"><a href="#关于babel配置" class="headerlink" title="关于babel配置"></a>关于babel配置</h2><p>一直想用一下js的装饰器也就是<code>@</code>符号, 因为这看起来和java和python比较像, 显得比较高端.<br>但是发现 <code>@</code> 符合是无法被识别的, 让我头疼了半天, 一度以为是不是这个符合是只能在 <code>ts</code> 中使用<br>但是看了看多方教程, 发现似乎大家都是讲在<code>js</code>环境下怎么使用的.<br>那我估计是, 这一定是一个新功能, 那必然是我的babel配置的不怎么正确. 趁此机会重新学习一遍babel, 因为之前基本上都是拿过来用就是了</p>
<p>首先是找到了2个比较好的教程, 阮一峰关于babel的教程并不好</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/zyl1314/blog/issues/16">https://github.com/zyl1314/blog/issues/16</a><br><a target="_blank" rel="noopener" href="https://www.pengfeixc.com/blogs/javascript/babel-tutorial">https://www.pengfeixc.com/blogs/javascript/babel-tutorial</a></p>
</blockquote>
<p>核心库:<code>@babel/core</code> 用来做语法转换的<br><code>@babel/cli</code> 能让你在命令行中使用babel命令的, 不然就只能在js中像其他的代码那样用babel了</p>
<p>其他的依赖就是一堆插件或者是插件的集合, 相当于告诉babel, 我是要用哪个插件(这些个插件基本上可以转换一些个特地的ES6+语法). 而配置这些插件, 也基本上相当于配置我要转换的新语法. 而这个配置文件就是 <code>.babelrc</code> 或者是 <code>babel.config.json</code><br>配置文件中就2个属性: <code>presets</code>, <code>plugins</code>.<br><code>plugins</code> 这个属性就是我刚刚说的插件, 即你要转换哪些内容, 而 <code>presets</code> 则是插件的集合, 因为一个个插件写起来毕竟麻烦.</p>
<p>这是一个常规的使用babel的安装依赖</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev @babel/core @babel/cli @babel/node @babel/plugin-transform-runtime @babel/preset-env  @babel/plugin-proposal-decorators @babel/runtime nodemon<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这些依赖所对应的配置文件:</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@babel/preset-env"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">"@babel/plugin-proposal-decorators"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token property">"legacy"</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">"@babel/plugin-transform-runtime"</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>其中 <code>&quot;presets&quot;: [&quot;@babel/preset-env&quot;]</code> 基本上覆盖了常规的ES6+的新语法, 但是 <code>@</code> 不在其中   </p>
<p>这里稍微说一下, 各种插件, 比如最常举例的<code>@babel/plugin-transform-arrow-functions</code>, <code>@babel/plugin-transform-destructuring</code> 你可以理解成是对语法的转换, 而 <code>@babel/polyfill</code> 可以理解成是对一些方法的转换, 比如<code>Promise()</code>, <code>Object.Assign()</code>, <code>String.prototype.replaceAl</code>等等</p>
<p>这里的 <code>@babel/plugin-proposal-decorators</code> 就是用来解释装饰符号 <code>@</code> 的, 如果不告诉<code>babel</code> 的话, 会报错</p>
<p><img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/001.png" alt="pages"></p>
<p> 但是光光把这个插件声明放到<code>plugins</code>属性中还不对. 会报错<br> <img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/002.png" alt="pages"><br> 需要把属性变成这样: (注意这里如果对一个plugin项有额外属性设置的话, 那就会从单数组变成嵌套数组)<br> <pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"@babel/plugin-proposal-decorators"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token property">"legacy"</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br> 参考这个帖子:</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/71942479/">https://stackoverflow.com/questions/71942479/</a><br> 问题解决</p>
</blockquote>
<p> 在实际使用过程种, 首先是发现了版本不正确的问题<br>使用的babel编译命令是:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">></span> ./node_modules/.bin/babel .<span class="token punctuation">\</span>test.js --out-dir lib<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这里的<code>test.js</code>文件是需要被babel编译的对象文件<br> <img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/003.png" alt="pages"><br> 可以通过重新安装的方式来更新版本<br> <img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/004.png" alt="pages"><br>其实我这里的命令不是很好 <code>babel-cli</code>和<code>@babel/cli</code>不应该混用, 安装一个就可以了</p>
<p>基本上就可以编译成功了<br><img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/005.png" alt="pages"></p>
<p>那我们要运行代码的话, 就得先编译, 再运行. 而且一有改动还得去编译, 就很麻烦<br>可以使用<code>babel-node</code>来解决这个问题</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @babel/node <span class="token parameter variable">-g</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>就可以了<br><img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/006.png" alt="pages">.<br>最后也可以把这个命令写到<code>package.json</code>文件中, 就可以用npm命令运行了<br><img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/007.png" alt="pages"></p>
<p>当然也可以加上nodemon命令:</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"nodemon --exec babel-node src/test.js  -e js,json"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><code>-e js json</code>是指有js或者json文件变动的时候就重启, 这里没有加上<code>--watch</code> 所以默认就是监听整个工作目录</p>
<h2 id="关于JavaScript中的装饰器"><a href="#关于JavaScript中的装饰器" class="headerlink" title="关于JavaScript中的装饰器"></a>关于JavaScript中的装饰器</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/05/19/202305-iframe%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/19/202305-iframe%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">202305-iframe跨域问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-19 09:59:53" itemprop="dateCreated datePublished" datetime="2023-05-19T09:59:53+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-24 10:05:26" itemprop="dateModified" datetime="2023-05-24T10:05:26+08:00">2023-05-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>目前遇到了一个要在iframe中渲染Paypal账单的问题, 他们本来是渲染自己的账单的, 那必然没有什么跨域问题. 而iframe中src换成了其他网站的话, 就会出现 <code>Display forbidden by X-Frame-Options</code> 或者 <code>Refused to display ‘url’ in a frame because it set &#39;X-Frame-Options&#39; to &#39;sameorigin&#39; </code> 的问题.  </p>
<p>在StackoverFlow上参照这个帖子研究了半天, 似乎也没有什么很好的解决方案.</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/6666423/overcoming-display-forbidden-by-x-frame-options">https://stackoverflow.com/questions/6666423/overcoming-display-forbidden-by-x-frame-options</a></p>
</blockquote>
<ol>
<li><p>第一个方案, 正如我们有时候会嵌入B站的视频一样, 那B站的地址不也是跨域了? 这种情况下, 有时候我们在原来会跨域的地址比如 <code>https://xxxx.aaa</code> 的后面加上一些东西, 比如 <code>https://xxxx.aaa&amp;embed</code> 或者 <code>https://xxxx.aaa&amp;target=popup</code> 之类的来告诉请求源, 我这个网站是要在iframe中使用的, 请服务器在response头里允许我在iframe中展示, <code>X-Frame-Options:ALLOW</code>, 这是最好的办法, 但是需要服务器的后台支持</p>
</li>
<li><p>重写iframe, 参照这个方案, 这个方案是使用了 <code>html</code> 的 <code>is</code> 属性, 事实上我们是使用了重写过的iframe. 在这个iframe中, 其实是请求了一个不会跨域的地址. 但是那些个免费的跨域代理服务器都不怎么稳定, 如果要使用这个方案还是代理到自己的服务器上,  </p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/niutech/x-frame-bypass">https://github.com/niutech/x-frame-bypass</a><br><img src="/2023/05/19/202305-iframe%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/001.png" alt="pages"></p>
</blockquote>
</li>
<li><p>使用插件修改HTTP头. 参考这个方法： </p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://requestly.io/blog/bypass-iframe-busting-header">https://requestly.io/blog/bypass-iframe-busting-header</a><br>但是这几个办法我试了都不行<br><img src="/2023/05/19/202305-iframe%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/002.png" alt="pages"><br><img src="/2023/05/19/202305-iframe%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/003.png" alt="pages"></p>
</blockquote>
</li>
<li><p>使用代理服务器</p>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/05/17/202305-%E6%89%8B%E6%9C%BA%E6%B5%8B%E5%88%86%E8%B4%9D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/17/202305-%E6%89%8B%E6%9C%BA%E6%B5%8B%E5%88%86%E8%B4%9D/" class="post-title-link" itemprop="url">202305-手机测分贝</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-05-17 16:03:44 / Modified: 16:04:11" itemprop="dateCreated datePublished" datetime="2023-05-17T16:03:44+08:00">2023-05-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%B5%84%E6%BA%90%E7%A7%AF%E7%B4%AF/" itemprop="url" rel="index"><span itemprop="name">资源积累</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/halibobo/SoundMeter">https://github.com/halibobo/SoundMeter</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/fuyaozhishang/p/8547523.html">https://www.cnblogs.com/fuyaozhishang/p/8547523.html</a><br><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/live/wx.createLivePusherContext.html">https://developers.weixin.qq.com/miniprogram/dev/api/media/live/wx.createLivePusherContext.html</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/05/17/202305%E6%89%8B%E6%9C%BA%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/17/202305%E6%89%8B%E6%9C%BA%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">202305手机远程控制方案</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-17 16:03:17" itemprop="dateCreated datePublished" datetime="2023-05-17T16:03:17+08:00">2023-05-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-07-19 11:37:24" itemprop="dateModified" datetime="2023-07-19T11:37:24+08:00">2023-07-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%B5%84%E6%BA%90%E7%A7%AF%E7%B4%AF/" itemprop="url" rel="index"><span itemprop="name">资源积累</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Nc411L76A">https://www.bilibili.com/video/BV1Nc411L76A</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/05/12/202305-wordpress%E7%9A%84%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81%20-%20TODO/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/12/202305-wordpress%E7%9A%84%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81%20-%20TODO/" class="post-title-link" itemprop="url">202305-wordpress的默认密码</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-12 11:10:39" itemprop="dateCreated datePublished" datetime="2023-05-12T11:10:39+08:00">2023-05-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-19 10:00:20" itemprop="dateModified" datetime="2023-05-19T10:00:20+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>//TODO</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.coonote.com/wordpress-note/reset-wordpress-administrator-password.html">https://www.coonote.com/wordpress-note/reset-wordpress-administrator-password.html</a></p>
</blockquote>
<p>时间长了会忘记wordpress的默认用户名和密码是什么:<br>这里记录一下</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>此外还有php-admin的</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/05/12/202305-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%20-%20TODO/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/12/202305-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%20-%20TODO/" class="post-title-link" itemprop="url">202305-离线安装python第三方库</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-12 10:22:16" itemprop="dateCreated datePublished" datetime="2023-05-12T10:22:16+08:00">2023-05-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-17 16:14:56" itemprop="dateModified" datetime="2023-05-17T16:14:56+08:00">2023-05-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>//TODO 未写完</p>
<p>为了可以在vscode的ipynotebook中使用debug功能, 必须要安装6.0版本以上的ipykernel</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys
<span class="token keyword">import</span> ipykernel

<span class="token comment"># ensure that ipykernel version 6.0.0 or greater</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"kernal version:"</span><span class="token punctuation">,</span>ipykernel<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span>

<span class="token comment"># Ensure that you're using a kernel based on Python 3.7 or greater.	</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Python version:"</span><span class="token punctuation">,</span>sys<span class="token punctuation">.</span>version<span class="token punctuation">)</span>	<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/microsoft/vscode-jupyter/wiki/Setting-Up-Run-by-Line-and-Debugging-for-Notebooks">https://github.com/microsoft/vscode-jupyter/wiki/Setting-Up-Run-by-Line-and-Debugging-for-Notebooks</a></p>
</blockquote>
<p>首先是碰到的第一个问题, 因为公司电脑权限的问题, 在安装时候提示没有权限. 添加 <code>--user</code> 来解决</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhouzhiwengang/article/details/120011564">https://blog.csdn.net/zhouzhiwengang/article/details/120011564</a></p>
</blockquote>
<p>但是还是不尽人意, 尝试通过手动安装</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m_buddy/article/details/86619440">https://blog.csdn.net/m_buddy/article/details/86619440</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/351494670">https://zhuanlan.zhihu.com/p/351494670</a><br><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/334548570">https://www.zhihu.com/question/334548570</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Petro</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
