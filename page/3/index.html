<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"user-q123.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="My blog">
<meta property="og:url" content="https://user-q123.github.io/page/3/index.html">
<meta property="og:site_name" content="My blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Petro">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://user-q123.github.io/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>My blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">My blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Viva la vida</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Petro</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">75</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/" class="post-title-link" itemprop="url">202309-npx提速</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-12 10:49:30" itemprop="dateCreated datePublished" datetime="2023-09-12T10:49:30+08:00">2023-09-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-27 12:07:01" itemprop="dateModified" datetime="2023-09-27T12:07:01+08:00">2023-09-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近在学习next和ts的过程中, 经常要新建工程. 而npx命令太慢了, 修改了npm的源也没有什么用, 因为网上查到到:<br>例如<code>npx create-react-app my-app</code>使用的registry还是原始的 <code>https://registry.npmjs.org/</code> 这个源<br>就很麻烦, 太慢了.<br>修改npm的源和npx是没有关系的<br><img src="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/003.png" alt="pic"></p>
<p><img src="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/001.png" alt="pic"><br>我尝试了修改<code>.npmrc</code>文件或者干脆使用<code>yarn</code>命令<br><img src="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/002.png" alt="pic"></p>
<p>试了一下, 这2步依然很慢<br><img src="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/004.png" alt="pic"><br><img src="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/005.png" alt="pic"><br>感觉使用nrm工具切换源也没什么用了</p>
<p> 试试使用 <code>yarn</code><br> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"> <span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">yarn</span> <span class="token parameter variable">--registry</span><span class="token operator">=</span>https://registry.npm.taobao.org

<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org <span class="token parameter variable">-g</span>

<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> sass_binary_site http://cdn.npm.taobao.org/dist/node-sass <span class="token parameter variable">-g</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br> <img src="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/006.png" alt="pic"> </p>
<p> 在公司电脑上不出意外地发生了ssl错误<br> <img src="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/007.png" alt="pic"> </p>
<p>修改ssl策略</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> config <span class="token builtin class-name">set</span> strict-ssl <span class="token boolean">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>可以看到, yarn比npx命令要快不少, 安装过程的UI也更好看<br> <img src="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/008.png" alt="pic"><br> <img src="/2023/09/12/202309-npx%E6%8F%90%E9%80%9F/009.png" alt="pic"></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/36391490">https://zhuanlan.zhihu.com/p/36391490</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/27449990">https://zhuanlan.zhihu.com/p/27449990</a><br> 在看了这2个帖子后, 我觉得, npm也不是不好, 毕竟依赖混淆的问题已经完全解决, 但是因为npx命令的源问题, 目前这个节点 <code>2023年</code> 在init react项目时, 还是yarn比较好</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/09/11/202309-Windows%E5%88%A0%E6%96%87%E4%BB%B6%E5%88%A0%E4%B8%8D%E6%8E%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/11/202309-Windows%E5%88%A0%E6%96%87%E4%BB%B6%E5%88%A0%E4%B8%8D%E6%8E%89/" class="post-title-link" itemprop="url">202309-Windows删文件删不掉</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-11 15:21:02" itemprop="dateCreated datePublished" datetime="2023-09-11T15:21:02+08:00">2023-09-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-13 14:40:41" itemprop="dateModified" datetime="2023-09-13T14:40:41+08:00">2023-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%B5%84%E6%BA%90%E7%A7%AF%E7%B4%AF/" itemprop="url" rel="index"><span itemprop="name">资源积累</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这个改后缀名+批处理文件的方式, 的确有用</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/577237417">https://zhuanlan.zhihu.com/p/577237417</a></p>
</blockquote>
<pre class="line-numbers language-bat" data-language="bat"><code class="language-bat">DEL &#x2F;F &#x2F;A &#x2F;Q \\?\%1
RD &#x2F;S &#x2F;Q \\?\%1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/" class="post-title-link" itemprop="url">202309-学习使用tailwind加ts创建一个网站</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-11 14:19:40" itemprop="dateCreated datePublished" datetime="2023-09-11T14:19:40+08:00">2023-09-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-19 14:44:13" itemprop="dateModified" datetime="2023-09-19T14:44:13+08:00">2023-09-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">教程</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>创建repo, 选私有库, 之后要放到PayPal内部Git上的, 先声明一下叠甲避免安全性问题<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/001.png" alt="pic"></p>
<p>创建ts的create项目</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npx create-react-app display-site <span class="token parameter variable">--template</span> typescript<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/002.png" alt="pic"><br>发现无法push代码<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/004.png" alt="pic"><br>想到可能是没有权限的问题, invite自己的GitHub账号<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/003.png" alt="pic"><br>就可以成功了<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/005.png" alt="pic"><br>删掉创建工程时的一些默认项<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/006.png" alt="pic"><br>参考开发文档<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/007.png" alt="pic"><br>安装tailwind<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/008.png" alt="pic"><br>在主 CSS 文件中通过 @tailwind 指令加载 Tailwind 功能模块<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/009.png" alt="pic"><br>添加tailwind的插件, 不然没有自动提示, 包括颜色什么的<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/010.png" alt="pic"><br>发现没有效果<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/011.png" alt="pic"><br>原因是官网的示例代码不正确, 可能是我参考的入口不对, 但是这里配置文件需要自己把 <code>ts,tsx</code> 添加上去</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json">content<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./src/**/*.&#123;html,js,ts,tsx,jsx&#125;"</span><span class="token punctuation">,</span>'./src/pages<span class="token comment">/**/</span>*.<span class="token punctuation">&#123;</span>js<span class="token punctuation">,</span>ts<span class="token punctuation">,</span>jsx<span class="token punctuation">,</span>tsx<span class="token punctuation">&#125;</span>'<span class="token punctuation">,</span> './src/components<span class="token comment">/**/</span>*.<span class="token punctuation">&#123;</span>js<span class="token punctuation">,</span>ts<span class="token punctuation">,</span>jsx<span class="token punctuation">,</span>tsx<span class="token punctuation">&#125;</span>'<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/012.png" alt="pic"><br>有效果了<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/013.png" alt="pic"></p>
<p>在搜索侧边栏的样式过程中, 我发现了一个文章, 可能这样安装<code>tailwind</code>更好</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> tailwindcss@latest postcss@latest autoprefixer@latest<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://devpress.csdn.net/react/62ed61bbc6770329307f245c.html">https://devpress.csdn.net/react/62ed61bbc6770329307f245c.html</a><br><a target="_blank" rel="noopener" href="https://codepen.io/junchow/pen/GRoJPeo?editors=1000">https://codepen.io/junchow/pen/GRoJPeo?editors=1000</a></p>
</blockquote>
<hr>
<p>为了使用next框架, 只能重建项目了, 因为next虽然是基于react的, 但是使用了SSR服务端渲染, 没有什么比较好的办法可以直接从react项目转过来, 所以重新建一个项目了.</p>
<p><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/014.png" alt="pic"></p>
<hr>
<p>nextjs的使用办法, 我这里就不说了, 毕竟很多, 看文档比较好<br>但是在我使用 <code>create-next-app</code> 的这个时间节点 (2023-09-13), next版本已经从12变成了13, 这里有一个天坑的地方, nextjs是一个以规范为导向的框架, 也就是说你的文件名, 文件夹名字是要符合规范的, 比如在老的12以前的版本中, 路由不需要自己配置, 放在 <code>pages\文件夹名\页面名[url参数名].js</code>下就可以了, 这个<code>文件夹名\页面名</code> 就是最终的访问路径.<br>但是这么关键的东西, 在<code>13</code>版本里改了但是文档里说的却不清楚<br>这就很要命了, 现在的结构是, 每一个页面, 都是一套组合拳, 比如<code>test</code>这个页面, 会有自己的<code>layout</code> 和 <code>page</code>, 并且命名规范变成了文件夹导向, 文件夹下的默认文件也从 <code>index.jsx</code> 变成了 <code>page.tsx</code>, 这谁扛得住啊? 看看现在的目录是这样的<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/015.png" alt="pic">  </p>
<p>原来的<code>pages</code> 变成了现在的 <code>app</code>, 而且官方文档还没说! 而且这个功能还必须要修改配置文件, 不然还不会生效,<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/016.png" alt="pic"> </p>
<p>但是令人困惑的是, 既然写了是<code>experimental</code>功能, 那在使用<code>cli</code>的时候让人选一下是不是要启用这点吧. 它也没有, 默认都是有的.</p>
<hr>
<p>反正, 就这么先用着吧, 毕竟next也算是react下一个很火的框架</p>
<p>然后是第一次使用了<code>heroicons</code>, 这个库的确很方便, 直接把icon变成了<code>ReactNode</code>类型, 直接用就可以, 但是里面的图标还不是很多, 不比直接从svg比如iconfont上多, 但是svg还需要转一下, 我现在也没啥好的转的方法找到.</p>
<hr>
<p>一个关于nextjs 13比较好的帖子</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7247740446280007741">https://juejin.cn/post/7247740446280007741</a></p>
</blockquote>
<p>总结几个比较坑的地方:</p>
<ol>
<li><p>在debug和打包的时候, 临时文件/部署文件默认是放在<code>.next</code>文件夹下的, 如果要修改为熟悉的名字比如<code>dist</code>,<code>build</code>, 需要添加配置项<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/017.png" alt="pic"> </p>
</li>
<li><p>因为nextjs服务器端渲染的特性, 所以它打包出来的部署文件不是静态的html文件, 没有<code>index.html</code>, 这点不用特别大惊小怪, 如果想要变成静态文件, 也需要添加配置项<br><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/018.png" alt="pic"> </p>
</li>
<li><p>配置一些其他的简单配置项</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/blogs-xlf/p/14014656.html">https://www.cnblogs.com/blogs-xlf/p/14014656.html</a></p>
</blockquote>
</li>
<li><p>一个新的电子邮箱账号</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">addr</span><span class="token punctuation">:</span> browser.sync.cityofwind@gmail.com
<span class="token key atrule">pwd</span><span class="token punctuation">:</span> Qq111222333<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>如何在render中部署一个nextjs项目</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://render.com/docs/deploy-nextjs-app">https://render.com/docs/deploy-nextjs-app</a></p>
</blockquote>
</li>
<li><p>next比较好的非官方教程</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.builder.io/blog/next-13-app-router">https://www.builder.io/blog/next-13-app-router</a><br><a target="_blank" rel="noopener" href="https://juejin.cn/post/7247044423024721980">https://juejin.cn/post/7247044423024721980</a></p>
</blockquote>
</li>
</ol>
<hr>
<p>这里有一个坑爹的地方, 因为我做的仅仅是一个类似demo的网站, 所以很多按钮是按了没有效果的, 就想用popover的这个方式来做一下提示, 之前我尝试过 <code>tippy.js</code> 这里本来也是想用的. 但是其在<code>typescript</code>中那是完全没法用啊(这个库有点问题, 在强类型下, 有2个关键参数没有类型, 使用者又不知道应该是什么), 放弃 <code>tippy.js</code>了, 在兜兜转转了好久之后, 放弃了转而使用<code>material UI</code></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://mui.com/material-ui/react-tooltip/">https://mui.com/material-ui/react-tooltip/</a></p>
</blockquote>
<p><img src="/2023/09/11/202309-%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8tailwind%E5%8A%A0ts%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99/019.png" alt="pic"> </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> @mui/material @emotion/react @emotion/styled @heroicons/react  react-router-dom<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>不知道为什么这么创建出来的react中ts的支持是要手动加上去的</p>
<pre class="line-numbers language-none"><code class="language-none">yarn add typescript @types&#x2F;node @types&#x2F;react @types&#x2F;react-dom @types&#x2F;jest<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后把src/index.js 重命名为 src/index.tsx</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/09/07/202309-%E4%BD%BF%E7%94%A8Npm%E5%AE%89%E8%A3%85hexo%E4%B8%BB%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/07/202309-%E4%BD%BF%E7%94%A8Npm%E5%AE%89%E8%A3%85hexo%E4%B8%BB%E9%A2%98/" class="post-title-link" itemprop="url">202309-使用Npm安装hexo主题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-09-07 11:05:11 / Modified: 11:35:16" itemprop="dateCreated datePublished" datetime="2023-09-07T11:05:11+08:00">2023-09-07</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>因为换电脑后, hexo的主题会丢失, 一打开<code>hexo s</code>一看发现页面是白的,<br><img src="/2023/09/07/202309-%E4%BD%BF%E7%94%A8Npm%E5%AE%89%E8%A3%85hexo%E4%B8%BB%E9%A2%98/001.png" alt="pic"><br>要么每次都要手动克隆安装主题文件很麻烦<code>git clone https://gitlab.com/hexo-theme-next/hexo-theme-next themes/next</code></p>
<p>记得next的官网上说, 可以通过npm来安装</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> hexo-theme-next@latest<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>试了一下没有效果<br>查询了一下, 需要把原来的themes目录删掉 <code>themes</code>, 就是原来放主题文件的那个目录, 估计第一优先顺序是本地的themes文件夹, 其次才是node_modules中的文件夹</p>
<p>另外一个主题使用成功的关键就是看编译的时候有没有这个大大的logo出现<br><img src="/2023/09/07/202309-%E4%BD%BF%E7%94%A8Npm%E5%AE%89%E8%A3%85hexo%E4%B8%BB%E9%A2%98/002.png" alt="pic"></p>
<p>之后就可以正常使用了</p>
<p>当然, 根据官方的说明, hexo的版本是要高于5.0.0的, 这个hexo的版本和hexo-cli的版本不一样, 如果全局安装了hexo的话, 使用<code>hexo -V</code> 命令会跳出来一个 <code>hexo-cli</code>的版本, 还是4.2.X的, 这个没有关系<br><img src="/2023/09/07/202309-%E4%BD%BF%E7%94%A8Npm%E5%AE%89%E8%A3%85hexo%E4%B8%BB%E9%A2%98/003.png" alt="pic"><br>hexo的版本是5以上就可以.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/09/07/202309-NPM%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/07/202309-NPM%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/" class="post-title-link" itemprop="url">202309-公司新电脑Npm和Git安装错误</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-07 10:14:15" itemprop="dateCreated datePublished" datetime="2023-09-07T10:14:15+08:00">2023-09-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-11 15:41:59" itemprop="dateModified" datetime="2023-09-11T15:41:59+08:00">2023-09-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>公司换了新电脑, 使用npm命令的时候老发现这个错误</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Error: self-signed certificate <span class="token keyword">in</span> certificate chain<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>根据网上的办法</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> strict-ssl <span class="token boolean">false</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry http://registry.cnpmjs.org
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry http://registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>的方法操作后, 问题依然存在</p>
<p>解决办法:<br>不要慌,重启就好了</p>
<hr>
<p>然后发现git也有问题, 估计依然是公司Https的问题</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config <span class="token parameter variable">--global</span> http.sslVerify <span class="token boolean">false</span>

<span class="token function">git</span> config <span class="token parameter variable">--global</span> <span class="token parameter variable">--list</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="/2023/09/07/202309-NPM%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/001.png" alt="pic"><br>因为是第一次用, 提交代码等待验证的出现<br><img src="/2023/09/07/202309-NPM%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/002.png" alt="pic"><br>提交成功<br><img src="/2023/09/07/202309-NPM%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/003.png" alt="pic"></p>
<p>不过突然觉得很奇怪, 因为是第一次怎么不要我输用户名, 邮箱什么的, 估计是config里已经有了(我不是从git repo克隆下来的, 是从原电脑复制过来的, .git配置也一起过来了), 所以就不适用global配置了<br><img src="/2023/09/07/202309-NPM%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/004.png" alt="pic"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/" class="post-title-link" itemprop="url">202306-给查看python第三方包代码错误debug</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-30 15:18:27" itemprop="dateCreated datePublished" datetime="2023-06-30T15:18:27+08:00">2023-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-31 15:06:23" itemprop="dateModified" datetime="2023-10-31T15:06:23+08:00">2023-10-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这个代码是用来查看本地安装的包的, 但是运行会发生错误</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pip<span class="token punctuation">.</span>_internal<span class="token punctuation">.</span>commands<span class="token punctuation">.</span>show <span class="token keyword">import</span> search_packages_info
<span class="token keyword">import</span> subprocess
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> json
<span class="token keyword">import</span> pathlib
<span class="token keyword">import</span> math
<span class="token keyword">import</span> operator

TMPL <span class="token operator">=</span> <span class="token string">'&#123;:&lt;30&#125; &#123;:&lt;30&#125; &#123;:&lt;10&#125; &#123;:>9&#125;'</span>

<span class="token comment"># 把单位为位转换成K,M这样的</span>
<span class="token keyword">def</span> <span class="token function">humanize</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Convert size in bytes to human readable output."""</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        units <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'KB'</span><span class="token punctuation">,</span> <span class="token string">'MB'</span><span class="token punctuation">,</span> <span class="token string">'GB'</span><span class="token punctuation">]</span>
        i <span class="token operator">=</span> math<span class="token punctuation">.</span>floor<span class="token punctuation">(</span>math<span class="token punctuation">.</span>log<span class="token punctuation">(</span>size<span class="token punctuation">)</span> <span class="token operator">/</span> math<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        hsize <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token builtin">round</span><span class="token punctuation">(</span>size <span class="token operator">/</span> <span class="token number">1024</span><span class="token operator">**</span>i<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></span><span class="token interpolation"><span class="token punctuation">&#123;</span>units<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">&#125;</span></span><span class="token string">"</span></span>
    <span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
        hsize <span class="token operator">=</span> <span class="token string">'0B'</span>
    <span class="token keyword">return</span> hsize


<span class="token keyword">def</span> <span class="token function">pip_list_ext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""List installed packages with additional information."""</span>
    <span class="token comment"># python -m pip list --format --json --verbose</span>
    pip_list <span class="token operator">=</span> subprocess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">[</span>sys<span class="token punctuation">.</span>executable<span class="token punctuation">,</span> <span class="token string">'-m'</span><span class="token punctuation">,</span> <span class="token string">'pip'</span><span class="token punctuation">,</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
                               <span class="token string">'--format'</span><span class="token punctuation">,</span> <span class="token string">'json'</span><span class="token punctuation">,</span> <span class="token string">'--verbose'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                              capture_output<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> pip_list<span class="token punctuation">.</span>returncode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> RuntimeError<span class="token punctuation">(</span><span class="token string">'...'</span><span class="token punctuation">)</span>

    query <span class="token operator">=</span> <span class="token punctuation">[</span>pkg<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token keyword">for</span> pkg <span class="token keyword">in</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>pip_list<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span><span class="token punctuation">]</span>
    
    packages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> pkg <span class="token keyword">in</span> search_packages_info<span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">:</span>
        location <span class="token operator">=</span> pathlib<span class="token punctuation">.</span>Path<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'location'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        pkg<span class="token punctuation">[</span><span class="token string">'installer'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pkg<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'installer'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
        pkg<span class="token punctuation">[</span><span class="token string">'files'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pkg<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'files'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        size <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">(</span>location <span class="token operator">/</span> f<span class="token punctuation">)</span><span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>st_size
                       <span class="token keyword">for</span> f <span class="token keyword">in</span> pkg<span class="token punctuation">[</span><span class="token string">'files'</span><span class="token punctuation">]</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>location <span class="token operator">/</span> f<span class="token punctuation">)</span><span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        pkg<span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span> <span class="token operator">=</span> size
        packages<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pkg<span class="token punctuation">)</span>

    <span class="token keyword">return</span> packages

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    packages <span class="token operator">=</span> pip_list_ext<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>TMPL<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'Package'</span><span class="token punctuation">,</span> <span class="token string">'Version'</span><span class="token punctuation">,</span> <span class="token string">'Installer'</span><span class="token punctuation">,</span> <span class="token string">'Size'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>TMPL<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token operator">*</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> pkg <span class="token keyword">in</span> packages<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>TMPL<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pkg<span class="token punctuation">[</span><span class="token string">'version'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                          pkg<span class="token punctuation">[</span><span class="token string">'installer'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> humanize<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># TOP 10</span>
    N <span class="token operator">=</span> <span class="token number">10</span>
    pkgs <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>packages<span class="token punctuation">,</span> key<span class="token operator">=</span>operator<span class="token punctuation">.</span>itemgetter<span class="token punctuation">(</span><span class="token string">'size'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"\nTOP </span><span class="token interpolation"><span class="token punctuation">&#123;</span>N<span class="token punctuation">&#125;</span></span><span class="token string">:"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> pkg <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>pkgs<span class="token punctuation">[</span><span class="token punctuation">:</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>i<span class="token punctuation">:</span><span class="token format-spec">>2</span><span class="token punctuation">&#125;</span></span><span class="token string">. </span><span class="token interpolation"><span class="token punctuation">&#123;</span>pkg<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token punctuation">&#123;</span>humanize<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></span><span class="token string">)"</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>运行会报这个错:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:
  File <span class="token string">"c:\Users\petro\Desktop<span class="token entity" title="\t">\t</span>est\python\show-pip-package-size\main.py"</span>, line <span class="token number">47</span>, <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    packages <span class="token operator">=</span> pip_list_ext<span class="token punctuation">(</span><span class="token punctuation">)</span>
  File <span class="token string">"c:\Users\petro\Desktop<span class="token entity" title="\t">\t</span>est\python\show-pip-package-size\main.py"</span>, line <span class="token number">36</span>, <span class="token keyword">in</span> pip_list_ext
    location <span class="token operator">=</span> pathlib.Path<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'location'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
TypeError: tuple indices must be integers or slices, not str<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里应该是这句话错了</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> pkg <span class="token keyword">in</span> search_packages_info<span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">:</span>
    location <span class="token operator">=</span> pathlib<span class="token punctuation">.</span>Path<span class="token punctuation">(</span>pkg<span class="token punctuation">[</span><span class="token string">'location'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>从这里可以看出来, 这个query对象是一个存了各种包名的list<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/001.png" alt="pages"><br>再看一下这里, 这个返回值是个生成器对象.<br>什么是生成器对象: </p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/9185ccbe9cd7">https://www.jianshu.com/p/9185ccbe9cd7</a><br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/002.png" alt="pages"></p>
</blockquote>
<p>生成器对象不大好看里面有什么东西<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/003.png" alt="pages"><br>转成list对象发现, 里面的内容果然很多</p>
<p>查看一项具体里面有什么<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/004.png" alt="pages"><br>发现了错误</p>
<p>看了一下这个<code>_PackageInfo</code>对象, 也没有get方法, 查看<code>__dict__</code>属性也报错<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/005.png" alt="pages"><br>用<code>dir()</code>查看后, 各个参数也没有给到获取的方法, 而下面的代码中可以发现, 它是以列表的形式来处理的, 所以转换成字典</p>
<p>//TODO<br>结果转换还失败了<br><img src="/2023/06/30/202306-%E7%BB%99%E6%9F%A5%E7%9C%8Bpython%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AFdebug/006.png" alt="pages"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/" class="post-title-link" itemprop="url">202306-git port 443 after 21064 ms Timed out</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-25 13:53:37" itemprop="dateCreated datePublished" datetime="2023-06-25T13:53:37+08:00">2023-06-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-07-19 11:37:24" itemprop="dateModified" datetime="2023-07-19T11:37:24+08:00">2023-07-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>我的电脑有时候使用<code>git pull origin</code>命令会发生网络问题<br><img src="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/001.png" alt="pages"><br>有的时候不会发生<br>打算彻底解决一下<br>这是我的clash的端口:<br><img src="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/002.png" alt="pages"></p>
<pre class="line-numbers language-git" data-language="git"><code class="language-git">git config --global http.proxy http://127.0.0.1:7890
git config --global http.proxy https://127.0.0.1:7890<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>设置完后发现了其他错误, 说明配置的不正确<br><img src="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/003.png" alt="pages"><br>先复原</p>
<pre class="line-numbers language-git" data-language="git"><code class="language-git">git config --global --unset http.proxy
git config --global --unset https.proxy
git config --global http.sslBackend <span class="token string">"openssl"</span>
git config --global http.sslVerify false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>此时我pull突然就可以了:<br><img src="/2023/06/25/202306-git-port-443-after-21064-ms-Timed-out/004.png" alt="pages"></p>
<p>如果要用梯子的话, 参考这个帖子:</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xingxincsdn/article/details/125320830">https://blog.csdn.net/xingxincsdn/article/details/125320830</a></p>
</blockquote>
<pre class="line-numbers language-git" data-language="git"><code class="language-git">git config --global -e

[http]
        proxy = socks5://127.0.0.1:7890
[https]
        proxy = socks5://127.0.0.1:7890<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="post-title-link" itemprop="url">202306白嫖aws服务器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-07 16:23:48" itemprop="dateCreated datePublished" datetime="2023-06-07T16:23:48+08:00">2023-06-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-07-19 11:37:24" itemprop="dateModified" datetime="2023-07-19T11:37:24+08:00">2023-07-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>首先, 我注册了一个邮箱用于申请新的aws账号,</p>
<pre class="line-numbers language-none"><code class="language-none">server-baipiao01@outlook.com
Qq@111222333

aws login pwd:Qq@111222333<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/001.png" alt="pages"><br><del>在提交信用卡那个步骤, 直接用假的信用卡号就可以, 我本来还想用招行的无界卡之类的, 发现没有这个必要</del><br>我使用了一张过期的卡, 到22年就到期的苏州银行的卡号, 估计这里的关键是仅仅是银联但不是visa, 到期日随便写了26年就可以了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/002.png" alt="pages"><br>可以看到能到下一步<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/003.png" alt="pages"><br>用这种信用卡的话, 会报错, 但是还是可以登录的,  选择用root用户/根用户登录, 之后就好了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/004.png" alt="pages"><br>登录后, 搜索<code>EC2</code>并且收藏<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/005.png" alt="pages"><br>如果使用假的卡,会导致支付方式不通过<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/006.png" alt="pages"><br>使用银联的卡, 在payment preference这边就是正确的<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/007.png" alt="pages"><br>进入到下方的EC2界面, 能出现这个界面说明应该是成功了. 新账号的审核需要一点时间, 我一开始的时候也是说账号需要认证, 它说可能需要做一笔1美元的测试交易之类, 我以为是不是因为账号的信用卡无效的, 所以导致的这个问题, 但是发现睡了一觉可以了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/008.png" alt="pages"></p>
<p>启动新的实例<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/009.png" alt="pages"><br>创建实例的时候一点要是支持免费套餐的<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/010.png" alt="pages"><br>创建密钥对<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/011.png" alt="pages"><br>自动下载密钥对, 防火墙策略选择现有的<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/012.png" alt="pages"><br>启动<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/013.png" alt="pages"><br>结果又失败了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/014.png" alt="pages"><br>我写了一个邮件, 说明了一下失败的情况和截图, 后来它发了一个邮件给我说明已经可以用了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/015.png" alt="pages"><br>创建成功<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/016.png" alt="pages"><br>在这里增加一个账单提醒(比如公司邮箱,方便天天看得见)<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/017.png" alt="pages"><br>接下来去安全组中添加端口<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/018.png" alt="pages"><br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/019.png" alt="pages"><br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/020.png" alt="pages"><br>使用<code>MobaXterm</code>来进行SSH连接<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/021.png" alt="pages"><br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/022.png" alt="pages"><br>使用这个配置发现登录不上, 我怀疑是密钥对的问题, 因为我是把私钥文件从公司电脑上拖到自己电脑上的(公司电脑无法使用ssh), 怀疑是不是这个过程中编码有问题导致私钥不一样了.<br>然后我尝试在EC2 dashboard中替换密钥对, 发现基本上无法替换的, 即使你新增了新的密钥对也无法指定使用新的密钥对. (但是我又失手把老的密钥对删掉了). 就只能新建一个示例了.<br>在这个帖子中, 发现了其实是我的登录名错了, 不是<code>admin</code></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://becomethesolution.com/disconnected-no-supported-authentication-methods-available-aws-putty#:~:text=Disconnected%3A%20No%20supported%20authentication%20methods%20available%20%28server%20sent%3A,default%20login%2Fusernames%20when%20connecting%20to%20your%20AMI%20instance">https://becomethesolution.com/disconnected-no-supported-authentication-methods-available-aws-putty#:~:text=Disconnected%3A%20No%20supported%20authentication%20methods%20available%20%28server%20sent%3A,default%20login%2Fusernames%20when%20connecting%20to%20your%20AMI%20instance</a>.</p>
</blockquote>
<p>使用<code>root</code> 或者 <code>ubuntu</code> 来登录就可以了<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/023.png" alt="pages"></p>
<p>大功告成了: 使用下面的命令看看配置</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token parameter variable">-i</span>
<span class="token function">wget</span> -qO- bench.sh <span class="token operator">|</span> <span class="token function">bash</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/024.png" alt="pages"><br>最后是如何查看流量<br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/025.png" alt="pages"><br><img src="/2023/06/07/202306%E7%99%BD%E5%AB%96aws%E6%9C%8D%E5%8A%A1%E5%99%A8/026.png" alt="pages"></p>
<p>找到的一个参考视频</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1sg4y1F78k">https://www.bilibili.com/video/BV1sg4y1F78k</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/" class="post-title-link" itemprop="url">202305找不到hexo命令等</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-30 19:02:26" itemprop="dateCreated datePublished" datetime="2023-05-30T19:02:26+08:00">2023-05-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-31 09:56:27" itemprop="dateModified" datetime="2023-05-31T09:56:27+08:00">2023-05-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>第一个问题: 在hexo目录中<code>hexo</code>命令识别不到, 但是在其他地方是可以的. 也就是说, global中是有的<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/001.png" alt="pages"></p>
<p>解决办法是在hexo项目中安装依赖</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>但是在安装的时候, 发现了这个错误:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> ERR<span class="token operator">!</span> code <span class="token number">128</span>
<span class="token function">npm</span> ERR<span class="token operator">!</span> An unknown <span class="token function">git</span> error occurred
<span class="token function">npm</span> ERR<span class="token operator">!</span> <span class="token builtin class-name">command</span> <span class="token function">git</span> --no-replace-objects ls-remote ssh://git@github.com/7ym0n/hexo-asset-image.git
<span class="token function">npm</span> ERR<span class="token operator">!</span> git@github.com: Permission denied <span class="token punctuation">(</span>publickey<span class="token punctuation">)</span>.
<span class="token function">npm</span> ERR<span class="token operator">!</span> fatal: Could not <span class="token builtin class-name">read</span> from remote repository.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/002.png" alt="pages"><br>有的帖子说, 是需要本地有ssh证书, 在<code>git bash</code>中使用</p>
<pre class="line-numbers language-none"><code class="language-none">ls ~&#x2F;.ssh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>可以看到我有ssh证书<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/003.png" alt="pages"></p>
<p>后来发现问题所在是这个<code>hexo-asset-image</code>的库很蛋疼. 需要单独安装</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-asset-image<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>先单独安装它<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/004.png" alt="pages"><br>再安装其他的库, 就没有问题了<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/005.png" alt="pages"></p>
<p>然后是无法使用<code>deploy</code>命令的错误:<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/006.png" alt="pages"><br>解决方法是把<code>.deploy</code>文件删了<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/007.png" alt="pages"><br>可以参考这个帖子:</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/NoMasp/article/details/79504699">https://blog.csdn.net/NoMasp/article/details/79504699</a><br>然后重新生成和上传就可以<br><img src="/2023/05/30/202305%E6%89%BE%E4%B8%8D%E5%88%B0hexo%E5%91%BD%E4%BB%A4%E7%AD%89/008.png" alt="pages"></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://user-q123.github.io/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Petro">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | My blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">202305-babel与js装饰器学习</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-24 18:15:07" itemprop="dateCreated datePublished" datetime="2023-05-24T18:15:07+08:00">2023-05-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-05-27 20:40:03" itemprop="dateModified" datetime="2023-05-27T20:40:03+08:00">2023-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">开发随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="关于babel配置"><a href="#关于babel配置" class="headerlink" title="关于babel配置"></a>关于babel配置</h2><p>一直想用一下js的装饰器也就是<code>@</code>符号, 因为这看起来和java和python比较像, 显得比较高端.<br>但是发现 <code>@</code> 符合是无法被识别的, 让我头疼了半天, 一度以为是不是这个符合是只能在 <code>ts</code> 中使用<br>但是看了看多方教程, 发现似乎大家都是讲在<code>js</code>环境下怎么使用的.<br>那我估计是, 这一定是一个新功能, 那必然是我的babel配置的不怎么正确. 趁此机会重新学习一遍babel, 因为之前基本上都是拿过来用就是了</p>
<p>首先是找到了2个比较好的教程, 阮一峰关于babel的教程并不好</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/zyl1314/blog/issues/16">https://github.com/zyl1314/blog/issues/16</a><br><a target="_blank" rel="noopener" href="https://www.pengfeixc.com/blogs/javascript/babel-tutorial">https://www.pengfeixc.com/blogs/javascript/babel-tutorial</a></p>
</blockquote>
<p>核心库:<code>@babel/core</code> 用来做语法转换的<br><code>@babel/cli</code> 能让你在命令行中使用babel命令的, 不然就只能在js中像其他的代码那样用babel了</p>
<p>其他的依赖就是一堆插件或者是插件的集合, 相当于告诉babel, 我是要用哪个插件(这些个插件基本上可以转换一些个特地的ES6+语法). 而配置这些插件, 也基本上相当于配置我要转换的新语法. 而这个配置文件就是 <code>.babelrc</code> 或者是 <code>babel.config.json</code><br>配置文件中就2个属性: <code>presets</code>, <code>plugins</code>.<br><code>plugins</code> 这个属性就是我刚刚说的插件, 即你要转换哪些内容, 而 <code>presets</code> 则是插件的集合, 因为一个个插件写起来毕竟麻烦.</p>
<p>这是一个常规的使用babel的安装依赖</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev @babel/core @babel/cli @babel/node @babel/plugin-transform-runtime @babel/preset-env  @babel/plugin-proposal-decorators @babel/runtime nodemon<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这些依赖所对应的配置文件:</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@babel/preset-env"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">"@babel/plugin-proposal-decorators"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token property">"legacy"</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">"@babel/plugin-transform-runtime"</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>其中 <code>&quot;presets&quot;: [&quot;@babel/preset-env&quot;]</code> 基本上覆盖了常规的ES6+的新语法, 但是 <code>@</code> 不在其中   </p>
<p>这里稍微说一下, 各种插件, 比如最常举例的<code>@babel/plugin-transform-arrow-functions</code>, <code>@babel/plugin-transform-destructuring</code> 你可以理解成是对语法的转换, 而 <code>@babel/polyfill</code> 可以理解成是对一些方法的转换, 比如<code>Promise()</code>, <code>Object.Assign()</code>, <code>String.prototype.replaceAl</code>等等</p>
<p>这里的 <code>@babel/plugin-proposal-decorators</code> 就是用来解释装饰符号 <code>@</code> 的, 如果不告诉<code>babel</code> 的话, 会报错</p>
<p><img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/001.png" alt="pages"></p>
<p> 但是光光把这个插件声明放到<code>plugins</code>属性中还不对. 会报错<br> <img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/002.png" alt="pages"><br> 需要把属性变成这样: (注意这里如果对一个plugin项有额外属性设置的话, 那就会从单数组变成嵌套数组)<br> <pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"@babel/plugin-proposal-decorators"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token property">"legacy"</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br> 参考这个帖子:</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/71942479/">https://stackoverflow.com/questions/71942479/</a><br> 问题解决</p>
</blockquote>
<p> 在实际使用过程种, 首先是发现了版本不正确的问题<br>使用的babel编译命令是:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">></span> ./node_modules/.bin/babel .<span class="token punctuation">\</span>test.js --out-dir lib<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这里的<code>test.js</code>文件是需要被babel编译的对象文件<br> <img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/003.png" alt="pages"><br> 可以通过重新安装的方式来更新版本<br> <img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/004.png" alt="pages"><br>其实我这里的命令不是很好 <code>babel-cli</code>和<code>@babel/cli</code>不应该混用, 安装一个就可以了</p>
<p>基本上就可以编译成功了<br><img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/005.png" alt="pages"></p>
<p>那我们要运行代码的话, 就得先编译, 再运行. 而且一有改动还得去编译, 就很麻烦<br>可以使用<code>babel-node</code>来解决这个问题</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @babel/node <span class="token parameter variable">-g</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>就可以了<br><img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/006.png" alt="pages">.<br>最后也可以把这个命令写到<code>package.json</code>文件中, 就可以用npm命令运行了<br><img src="/2023/05/24/202305-babel%E4%B8%8Ejs%E8%A3%85%E9%A5%B0%E5%99%A8%E5%AD%A6%E4%B9%A0/007.png" alt="pages"></p>
<p>当然也可以加上nodemon命令:</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"nodemon --exec babel-node src/test.js  -e js,json"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><code>-e js json</code>是指有js或者json文件变动的时候就重启, 这里没有加上<code>--watch</code> 所以默认就是监听整个工作目录</p>
<h2 id="关于JavaScript中的装饰器"><a href="#关于JavaScript中的装饰器" class="headerlink" title="关于JavaScript中的装饰器"></a>关于JavaScript中的装饰器</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Petro</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
